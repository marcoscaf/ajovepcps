<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:p="http://primefaces.org/ui"
	template="../template/template.xhtml">

	<ui:define name="content">
		<p:messages id="globalMess" closable="true"></p:messages>
		<h:body>

			<h:form id="form">


				<p:panel styleClass="noBorder formPadding" id="panelForm">
					<p:panelGrid columns="2">
						<p:panelGrid id="gridFormData" columns="2"
							columnClasses="columRight,collumLeft">

							<p:outputLabel value="#{bundle['label.name']}" id="mandatoryName"
								for="iptName" />
							<p:panelGrid columns="2">
								<p:inputText id="iptName" label="#{bundle['label.name']}"
								required="#{!empty param['btnFilter.clientId']}"
								size="35" maxlength="70"
									value="#{memberMB.member.name}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptName')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.birthday']}"
								for="iptBirthDate" id="mandatoryBirthDate" />
							<p:panelGrid columns="2">
								<p:calendar label="#{bundle['label.birthday']}" navigator="true"
									required="true" yearRange="c-90:c+0" pattern="dd/MM/yyyy"
									id="iptBirthDate" value="#{memberMB.member.birthDate}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptBirthDate')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.gender']}" for="iptGender"
								id="mandatoryGender" />
							<p:panelGrid columns="2">
								<p:selectOneMenu label="#{bundle['label.gender']}"
									required="true" value="#{memberMB.member.gender}"
									id="iptGender">
									<f:selectItem itemLabel="..." />
									<f:selectItem itemLabel="#{bundle['label.gender.1']}  "
										itemValue="1" />
									<f:selectItem itemLabel="#{bundle['label.gender.2']}  "
										itemValue="2" />
								</p:selectOneMenu>
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptGender')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.civilStatus']}"
								for="iptStatusCivil" id="mandatoryCivilStatus" />
							<p:panelGrid columns="2">
								<p:selectOneMenu label="#{bundle['label.civilStatus']}"
									required="true" value="#{memberMB.member.civilStatus}"
									id="iptStatusCivil">
									<f:selectItem itemLabel="..." />
									<f:selectItem itemLabel="#{bundle['label.civilStatus.1']}"
										itemValue="1" />
									<f:selectItem itemLabel="#{bundle['label.civilStatus.2']}"
										itemValue="2" />
									<f:selectItem itemLabel="#{bundle['label.civilStatus.3']}"
										itemValue="3" />
									<f:selectItem itemLabel="#{bundle['label.civilStatus.4']}"
										itemValue="4" />
								</p:selectOneMenu>
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptStatusCivil')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.phone']} "
								for="iptTelefone" />
							<p:panelGrid columns="2">
								<p:inputText id="iptTelefone" maxlength="70" required="true"
									value="#{memberMB.member.phone}"
									label="#{bundle['label.phone']}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptTelefone')" />
								</p:panel>
							</p:panelGrid>


							<p:outputLabel value="#{bundle['label.rg']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptRg" value="#{memberMB.member.rg}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptRg')" />
								</p:panel>
							</p:panelGrid>



							<p:outputLabel value="#{bundle['label.email']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptEmail" size="35" maxlength="70"
									value="#{memberMB.member.email}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptEmail')" />
								</p:panel>
							</p:panelGrid>



						</p:panelGrid>

						<p:panelGrid id="gridFormDataAddress" columns="2"
							columnClasses="columRight,collumLeft" styleClass="formAddress">

							<p:outputLabel value="#{bundle['label.street']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptStreet" size="40" maxlength="40"
									value="#{memberMB.member.street}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptStreet')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.number']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptNumber" size="10" maxlength="10"
									value="#{memberMB.member.number}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptNumber')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.neighborhood']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptNeighborhood" size="30" maxlength="30"
									value="#{memberMB.member.neighborhood}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptNeighborhood')" />
								</p:panel>
							</p:panelGrid>

							<p:outputLabel value="#{bundle['label.city']}" />
							<p:panelGrid columns="2">
								<p:inputText id="iptCity" size="30" maxlength="30"
									value="#{memberMB.member.city}" />
								<p:panel styleClass="noBorderEraser">
									<div class="clearField" onclick="clearField('iptCity')" />
								</p:panel>
							</p:panelGrid>

						</p:panelGrid>
					</p:panelGrid>
				</p:panel>

				<div id="commandButtons">
					<p:commandButton id="btnFilter" value="#{bundle['label.filter']}"
						styleClass="insertMemberBtn" 
						
						
						actionListener="#{memberMB.findMembers}"
						update=":templateForm:form:btnUpdate,:templateForm:form:panelForm,:templateForm:form:btnRemove,:templateForm:dataTableMember"
						icon="ui-icon-search" />



					<p:commandButton id="btnInsert" value="#{bundle['label.insert']}"
						styleClass="insertMemberBtn"
						actionListener="#{memberMB.saveMember}"
						oncomplete="handleSubmitRequest(xhr, status, args)"
						process="@form"
						update=":templateForm:globalMess,:templateForm:form:btnUpdate,:templateForm:form:panelForm,:templateForm:form:btnRemove,:templateForm:dataTableMember"
						icon="ui-icon-plusthick" />

					<p:commandButton id="btnUpdate" value="#{bundle['label.update']}"
						disabled="#{empty memberMB.member.name}"
						onclick="closeMessPanelIfOpen()" styleClass="updateMemberBtn"
						icon="ui-icon-pencil" />

					<p:commandButton id="btnRemove" value="#{bundle['label.delete']}"
						disabled="#{empty memberMB.member.name}"
						styleClass="removeMemberBtn" icon="ui-icon-closethick" />

				</div>

			</h:form>





			<p:dataTable value="#{memberMB.memberDataModel}"
			
				var="dataTableMember" emptyMessage="" id="dataTableMember"
				paginator="true" rows="10" paginatorPosition="bottom"
				paginatorTemplate="  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,25" selectionMode="single">


				<p:ajax event="rowSelect" listener="#{memberMB.onRowSelect}"
					update=":templateForm:form:btnRemove,:templateForm:form:btnUpdate,:templateForm:form:panelForm" />

				<p:column sortBy="#{dataTableMember.name}"
					headerText="#{bundle['label.name']}">
					<h:outputText value="#{dataTableMember.name}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.birthDate}"
					headerText="#{bundle['label.birthday']}">
					<h:outputText value="#{dataTableMember.birthDate}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</p:column>

				<p:column sortBy="#{dataTableMember.gender}"
					headerText="#{bundle['label.gender']}">
					<h:outputText value="#{dataTableMember.gender}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.civilStatus}"
					headerText="#{bundle['label.civilStatus']}">
					<h:outputText value="#{dataTableMember.civilStatus}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.phone}"
					headerText="#{bundle['label.phone']}">
					<h:outputText value="#{dataTableMember.phone}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.rg}"
					headerText="#{bundle['label.rg']}">
					<h:outputText value="#{dataTableMember.rg}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.email}"
					headerText="#{bundle['label.email']}">
					<h:outputText value="#{dataTableMember.email}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.street}"
					headerText="#{bundle['label.street']}">
					<h:outputText value="#{dataTableMember.street}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.number}"
					headerText="#{bundle['label.number']}">
					<h:outputText value="#{dataTableMember.number}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.neighborhood}"
					headerText="#{bundle['label.neighborhood']}">
					<h:outputText value="#{dataTableMember.neighborhood}" />
				</p:column>

				<p:column sortBy="#{dataTableMember.city}"
					headerText="#{bundle['label.city']}">
					<h:outputText value="#{dataTableMember.city}" />
				</p:column>






			</p:dataTable>







		</h:body>
	</ui:define>
</ui:composition>

